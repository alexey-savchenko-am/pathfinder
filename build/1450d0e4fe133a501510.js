import{Vector2D}from"./Vector2D.js";export class Sprite{constructor({resource:e,top:r,left:t,right:s,bottom:a}){this._resource=e}draw(e,r,t,s,a){this._resource.isLoaded&&e.drawImage(this._resource.image,r,t,s,a)}}export class CroppableSprite extends Sprite{constructor({resource:e,frameSize:r,hFrames:t,vFrames:s}){super({resource:e}),this._frameSize=r??new Vector2D(16,16),this._hFrames=t,this._vFrames=s,this._frameMap=new Map,this.buildFrameMap()}buildFrameMap(){let e=0;for(let r=0;r<this._vFrames;r++)for(let t=0;t<this._hFrames;t++)this._frameMap.set(e,new Vector2D(this._frameSize.getRow*t,this._frameSize.getCol*r)),e++}draw(e,r,t,s,a,i=null){if(!this._resource.isLoaded)return;i||(i=0);const o=this._frameMap.get(i);e.drawImage(this._resource.image,o.getRow,o.getCol,this._frameSize.getRow,this._frameSize.getCol,r,t,s,a)}}