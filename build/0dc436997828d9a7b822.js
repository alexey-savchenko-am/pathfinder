export class Animation{constructor(t,i){this._sprite=t,this._currentTime=0,this._animationPattern=i}setAnimationPattern(t){this._animationPattern!==t&&(this._animationPattern=t)}get frame(){if(!this._animationPattern)return 0;const{frames:t}=this._animationPattern;for(let i=t.length-1;i>=0;i--)if(this._currentTime>=t[i].time)return t[i].frame;throw"Time is before the first keyframe"}update(t){this._currentTime+=t,this._currentTime>=this._animationPattern.duration&&(this._currentTime=0)}draw(t,i,e,r,n){this._sprite.draw(t,i,e,r,n,this.frame)}}