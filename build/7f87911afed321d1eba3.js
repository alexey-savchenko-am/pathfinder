import{GameObject}from"../GameObject.js";import{Vector2D}from"../Vector2D.js";export const DisplayMode={DarkMode:"dark",LightMode:"light"};export class Tile extends GameObject{constructor(t,{darkTerrain:i,lightTerrain:e}){super(t,75,75),this._isSelected=!1,this._darkTerrain=i,this._lightTerrain=e,this._displayMode=DisplayMode.DarkMode}get terrain(){return this._displayMode===DisplayMode.DarkMode?this._darkTerrain:this._lightTerrain}setTerrain({darkTerrain:t,lightTerrain:i}){this._darkTerrain=t,this._lightTerrain=i}get isSelected(){return this._isSelected}select(){this._isSelected=!0}deselect(){this._isSelected=!1}set displayMode(t){this._displayMode=t}isCollideWith(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top}update(t){this._children.forEach((i=>{i.update(t),i._isCollected&&this.removeChild(i)}))}draw(t){this._displayMode===DisplayMode.DarkMode?this._darkTerrain.draw(t,this._x,this._y,this.width,this.height):(this._lightTerrain.draw(t,this._x,this._y,this.width,this.height),this._children.forEach((i=>i.draw(t)))),this._isSelected&&(t.fillStyle="rgba(255, 0, 0, 0.2)",t.fillRect(this._x,this._y,this.width,this.height))}}