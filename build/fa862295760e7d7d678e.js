export class MainLoop{constructor(i,t){this.lastFrameTime=0,this.accumulatedTime=0,this.timeStep=1e3/60,this.update=i,this.render=t,this.rafId=null,this.isRunning=!1}mainLoop=i=>{if(!this.isRunning)return;let t=i-this.lastFrameTime;for(this.lastFrameTime=i,this.accumulatedTime+=t;this.accumulatedTime>=this.timeStep;)this.update(this.timeStep),this.accumulatedTime-=this.timeStep;this.render(),this.rafId=requestAnimationFrame(this.mainLoop)};start(){this.isRunning||(this.isRunning=!0,this.rafId=requestAnimationFrame(this.mainLoop))}stop(){this.rafId&&cancelAnimationFrame(this.rafId),this.isRunning=!1}}