import{Vector2D,VectorMap}from"../Vector2D.js";export function calculateLighting(t,i,o=3){const s=[],n=[],e=[{position:i,distance:0}];for(;e.length>0;){const{position:i,distance:p}=e.shift();if(!(p>o)&&-1===n.indexOf(i)){const o=t.get(i);if(!o)continue;n.push(i),s.push(t.get(i)),o.terrain.getIsPassable()&&(e.push({position:i.top(),distance:p+1}),e.push({position:i.bottom(),distance:p+1}),e.push({position:i.left(),distance:p+1}),e.push({position:i.right(),distance:p+1}),e.push({position:i.top().left(),distance:p+1}),e.push({position:i.top().right(),distance:p+1}),e.push({position:i.bottom().left(),distance:p+1}),e.push({position:i.bottom().right(),distance:p+1}))}}return s}